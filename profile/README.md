# ğŸ« Tickatch

**Ticket + Catch**

ëŒ€ê·œëª¨ íŠ¸ë˜í”½ í™˜ê²½ì—ì„œ ì•ˆì •ì ì¸ ì˜ˆì•½ ì²˜ë¦¬ë¥¼ ë³´ì¥í•˜ëŠ” í‹°ì¼“íŒ… í”Œë«í¼

---

## ğŸ“‹ í”„ë¡œì íŠ¸ ì†Œê°œ

TickatchëŠ” ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì´ ë°œìƒí•˜ëŠ” í‹°ì¼“íŒ… í™˜ê²½ì„ ê°€ì •í•˜ì—¬, **ì•ˆì •ì ì¸ ì˜ˆì•½ ì²˜ë¦¬ë¥¼ ë³´ì¥**í•  ìˆ˜ ìˆëŠ” ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ëª©í‘œë¡œ í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

ë„ë©”ì¸ë³„ ê¸°ëŠ¥ì„ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ ë¶„ë¦¬í•˜ì—¬ ë…ë¦½ì ì¸ ë°°í¬ ë° í™•ì¥ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„í•˜ê³ , ë¶„ì‚° í™˜ê²½ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” **ë°ì´í„° ì •í•©ì„± ë¬¸ì œë¥¼ ìµœì†Œí™”**í•˜ê¸° ìœ„í•´ ë¹„ë™ê¸° ë©”ì‹œì§• ê¸°ë°˜ì˜ êµ¬ì¡°ë¥¼ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

ì´ë¥¼ í†µí•´ ë†’ì€ ë™ì‹œ ì ‘ì† ìƒí™©ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” **í™•ì¥ ê°€ëŠ¥í•˜ê³ , ì‹ ë¢°ì„± ìˆëŠ” í‹°ì¼“íŒ… ì‹œìŠ¤í…œ**ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

---

## ğŸ¯ í”„ë¡œì íŠ¸ ëª©í‘œ

- ì˜ˆë§¤/í‹°ì¼“ ë°œí–‰ê³¼ ê°™ì€ **ê¸°ë³¸ ê¸°ëŠ¥** ì œê³µ
- **ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬** ëŠ¥ë ¥ í™•ë³´
- ê¸°ì¡´ í‹°ì¼“íŒ… ì„œë¹„ìŠ¤ì™€ ë™ì¼í•œ ê¸°ëŠ¥ì„ ì œê³µí•˜ë©´ì„œë„ **ì‚¬ìš©ì ì¹œí™”ì ì¸ ê¸°ëŠ¥** ì œê³µ
- MSA ê¸°ë°˜ì˜ **í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜** êµ¬í˜„

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| **Framework** | Spring Boot 3.x, Spring Cloud |
| **Language** | Java 21 |
| **Database** | PostgreSQL 16 (pgvector) |
| **Messaging** | RabbitMQ, Kafka |
| **Security** | Spring Security, JWT (RS256), BCrypt |
| **OAuth** | OAuth 2.0 (Kakao, Naver, Google) |

### Frontend

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| **Framework** | Next.js 15 (App Router) |
| **Language** | TypeScript |
| **Styling** | Tailwind CSS v4 |
| **State** | React Context API, useSyncExternalStore |
| **Authentication** | HttpOnly Cookie ê¸°ë°˜ í† í° ê´€ë¦¬ |

### Infrastructure

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| **Container** | Docker, Docker Compose |
| **Service Discovery** | Eureka Server (HA) |
| **Configuration** | Spring Cloud Config |
| **Proxy** | NGINX |

### Observability

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| **Logging** | ELK Stack (Elasticsearch, Logstash, Kibana) |
| **Tracing** | Zipkin |
| **Metrics** | Prometheus, Grafana |
| **Alerting** | Alertmanager |

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### Infrastructure Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         NGINX (Reverse Proxy)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Gateway Server                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                          â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Eureka Server  â”‚      â”‚  Config Server  â”‚      â”‚   Config Repo   â”‚
â”‚     (HA x2)     â”‚      â”‚                 â”‚      â”‚     (Git)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Service Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Business Services                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    User     â”‚    Auth     â”‚   Product   â”‚   Arthall   â”‚   Reservation     â”‚
â”‚   Service   â”‚   Service   â”‚   Service   â”‚   Service   â”‚     Service       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Reservation â”‚   Ticket    â”‚   Payment   â”‚ Notificationâ”‚  Notification     â”‚
â”‚    Seat     â”‚   Service   â”‚   Service   â”‚   Service   â”‚  Sender Service   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              Log Service                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                          â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    RabbitMQ     â”‚      â”‚      Kafka      â”‚      â”‚   PostgreSQL    â”‚
â”‚   (Messaging)   â”‚      â”‚   (Streaming)   â”‚      â”‚   (pgvector)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Observability Layer

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Observability                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ELK Stack   â”‚    Zipkin    â”‚  Prometheus  â”‚       Grafana        â”‚
â”‚  (Logging)   â”‚  (Tracing)   â”‚  (Metrics)   â”‚    (Dashboard)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ ë¦¬í¬ì§€í† ë¦¬ êµ¬ì„±

### ğŸ”§ Infrastructure

| Repository | Description | Language |
|------------|-------------|----------|
| [infrastructure](https://github.com/your-org/infrastructure) | í”„ë¡œì íŠ¸ ì¸í”„ë¼ (Docker Compose ê¸°ë°˜) | - |
| [service-infrastructure](https://github.com/your-org/service-infrastructure) | ì„œë¹„ìŠ¤ ì „ìš© ì¸í”„ë¼ íŒŒì¼ | - |
| [eureka-server](https://github.com/your-org/eureka-server) | ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ì„œë²„ | Java |
| [config-server](https://github.com/your-org/config-server) | ì¤‘ì•™ ì„¤ì • ê´€ë¦¬ ì„œë²„ | Java |
| [config-repo](https://github.com/your-org/config-repo) | ê³µí†µ ì„¤ì • ì €ì¥ì†Œ | - |
| [gateway-server](https://github.com/your-org/gateway-server) | API ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ | Java |
| [common-lib](https://github.com/your-org/common-lib) | ê³µí†µ ë¼ì´ë¸ŒëŸ¬ë¦¬ | Java |

### ğŸ­ Business Services

| Repository | Description | Language |
|------------|-------------|----------|
| [user-service](https://github.com/your-org/user-service) | ì‚¬ìš©ì ì„œë¹„ìŠ¤ | Java |
| [auth-service](https://github.com/your-org/auth-service) | ì¸ì¦ ì„œë¹„ìŠ¤ | Java |
| [product-service](https://github.com/your-org/product-service) | ìƒí’ˆ ê´€ë ¨ ì„œë¹„ìŠ¤ | Java |
| [arthall-service](https://github.com/your-org/arthall-service) | ì•„íŠ¸í™€ ì„œë¹„ìŠ¤ | Java |
| [reservation-service](https://github.com/your-org/reservation-service) | ì˜ˆë§¤ ì„œë¹„ìŠ¤ | Java |
| [reservation-seat-service](https://github.com/your-org/reservation-seat-service) | ì˜ˆë§¤ ì¢Œì„ ì„œë¹„ìŠ¤ | Java |
| [ticket-service](https://github.com/your-org/ticket-service) | í‹°ì¼“ ì„œë¹„ìŠ¤ | Java |
| [payment-service](https://github.com/your-org/payment-service) | ê²°ì œ ì„œë¹„ìŠ¤ | Java |
| [notification-service](https://github.com/your-org/notification-service) | ì•Œë¦¼ ì„œë¹„ìŠ¤ | Java |
| [notification-sender-service](https://github.com/your-org/notification-sender-service) | ì•Œë¦¼ ë°œì†¡ ì„œë¹„ìŠ¤ | Java |
| [log-service](https://github.com/your-org/log-service) | ë¡œê·¸ ì„œë¹„ìŠ¤ | Java |

### ğŸŒ Frontend & Testing

| Repository | Description | Language |
|------------|-------------|----------|
| [tickatch_web](https://github.com/your-org/tickatch_web) | ì›¹ í”„ë¡ íŠ¸ì—”ë“œ | TypeScript |
| [test-service](https://github.com/your-org/test-service) | ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì„œë¹„ìŠ¤ | Java |
| [project-interface](https://github.com/your-org/project-interface) | í”„ë¡œì íŠ¸ ì¸í„°í˜ì´ìŠ¤ í…œí”Œë¦¿ | - |

---

## ğŸ“š ìƒì„¸ ë¬¸ì„œ

### Infrastructure

#### Common Library

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | MSA ì „ë°˜ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í•µì‹¬ ì¸í”„ë¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **í•µì‹¬ ê¸°ëŠ¥** | API ì‘ë‹µ í‘œì¤€í™”, ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬, ì¸ì¦/ì¸ê°€, ë¶„ì‚° ì¶”ì , ë¡œê¹…, JPA Auditing, ì´ë²¤íŠ¸ ì²˜ë¦¬ |

**ì£¼ìš” ê¸°ëŠ¥:**

- `ApiResponse`, `PageResponse` ê¸°ë°˜ ì‘ë‹µ í‘œì¤€í™”
- `ErrorCode` + `BusinessException` ì˜ˆì™¸ ì²´ê³„
- X-User-Id ê¸°ë°˜ ì¸ì¦, Role ê¸°ë°˜ ê¶Œí•œ ì œì–´
- HTTP / Feign / RabbitMQ / Scheduler TraceId ì „íŒŒ
- MDC + AOP ê¸°ë°˜ ìš”ì²­/ë©”ì„œë“œ ìë™ ë¡œê¹…
- `DomainEvent` â†’ `IntegrationEvent` ë³€í™˜ ë° ì¬ì‹œë„ ì§€ì›
- OpenAPI 3.0 + JWT ì¸ì¦ ìŠ¤í‚¤ë§ˆ

---

#### Eureka Server

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ì„œë²„ |
| **êµ¬ì„±** | Eureka Server 2ëŒ€ ì´ì¤‘í™” (HA) |
| **ì—­í• ** | ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ë“±ë¡/ì¡°íšŒ, ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ ê°ì‹œ, ë™ì  ìœ„ì¹˜ íƒìƒ‰ |

**ì£¼ìš” íŠ¹ì§•:**

- ìƒí˜¸ Peer ë“±ë¡ìœ¼ë¡œ ë‹¨ì¼ ì¥ì•  ì§€ì (SPOF) ì œê±°
- Context Path ë¶„ë¦¬ (`/eureka1`, `/eureka2`)
- Actuator ê¸°ë°˜ í—¬ìŠ¤ ì²´í¬ ë° ë©”íŠ¸ë¦­ ì œê³µ
- Zipkin, Logstash ì—°ë™ ì§€ì›

---

#### Config Server

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | ì¤‘ì•™ ì„¤ì • ê´€ë¦¬ ì„œë²„ |
| **êµ¬ì„±** | Spring Cloud Config Server |
| **ì—­í• ** | Git ê¸°ë°˜ ì„¤ì • ê´€ë¦¬, í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬, ë¬´ì¤‘ë‹¨ ì„¤ì • ê°±ì‹  |

**ì£¼ìš” íŠ¹ì§•:**

- ì„œë¹„ìŠ¤ë³„/í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬ (local, dev, prod)
- RabbitMQ ê¸°ë°˜ Bus Refresh ì§€ì›
- ë¯¼ê° ì •ë³´ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œë§Œ ì£¼ì…

---

#### Config Repository

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | ì¤‘ì•™ ì„¤ì • ì €ì¥ì†Œ (Git) |
| **ì—­í• ** | ì„¤ì • ë²„ì „ ê´€ë¦¬, ë³€ê²½ ì´ë ¥ ì¶”ì  |

**êµ¬ì¡°:**

```
config-repo/
â”œâ”€â”€ common/              # ëª¨ë“  ì„œë¹„ìŠ¤ ê³µí†µ ì„¤ì •
â”œâ”€â”€ {service}/           # ì„œë¹„ìŠ¤ë³„ ê¸°ë³¸ ì„¤ì •
â””â”€â”€ {service}-{profile}/ # í™˜ê²½ë³„ ì„¤ì •
```

**ì„¤ê³„ ì›ì¹™:**

- ë¯¼ê° ì •ë³´ëŠ” ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ì•ŠìŒ
- ëª¨ë“  ì‹œí¬ë¦¿ì€ í™˜ê²½ ë³€ìˆ˜ ì£¼ì…
- ê³µí†µ â†’ ì„œë¹„ìŠ¤ â†’ í™˜ê²½ ìˆœ ìš°ì„ ìˆœìœ„

---

#### Infrastructure Repository

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | í†µí•© ì¸í”„ë¼ ë¦¬í¬ì§€í† ë¦¬ |
| **êµ¬ì„±** | Docker Compose ê¸°ë°˜ |
| **ì—­í• ** | ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬, ì„¤ì • ê´€ë¦¬, ë©”ì‹œì§•, ë¡œê¹…, ëª¨ë‹ˆí„°ë§ í†µí•© |

**ì¸í”„ë¼ êµ¬ì„±:**

| ì˜ì—­ | êµ¬ì„± ìš”ì†Œ |
|------|-----------|
| **Core** | Eureka Server (HA), Config Server, NGINX |
| **Messaging** | RabbitMQ, Kafka |
| **Observability** | ELK Stack, Zipkin, Prometheus, Grafana, Alertmanager |

**ì„¤ê³„ íŠ¹ì§•:**

- Docker Compose ë‹¨ì¼ ëª…ë ¹ìœ¼ë¡œ ì „ì²´ ì¸í”„ë¼ ê¸°ë™
- ë°ì´í„° ë³¼ë¥¨ ë¶„ë¦¬ë¡œ ì˜ì†ì„± ë³´ì¥
- í—¬ìŠ¤ ì²´í¬ ê¸°ë°˜ ì˜ì¡´ì„± ìˆœì„œ ê´€ë¦¬

---

#### Service Infrastructure Repository

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | ë¹„ì¦ˆë‹ˆìŠ¤ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì‹¤í–‰ í™˜ê²½ |
| **êµ¬ì„±** | PostgreSQL(pgvector) + Spring Boot ì„œë¹„ìŠ¤ |
| **ì—­í• ** | ë„ë©”ì¸ ì„œë¹„ìŠ¤ í†µí•© ìš´ì˜ |

**ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„:**

- ì„œë¹„ìŠ¤ë³„ ìŠ¤í‚¤ë§ˆ ë¶„ë¦¬ (Schema per Service)
- pgvector ê¸°ë°˜ ì¢Œì„ ìœ„ì¹˜ ë²¡í„° ì €ì¥
- IVFFlat ì¸ë±ìŠ¤ í™œìš© ì¢Œì„ ê±°ë¦¬ ì—°ì‚° ìµœì í™”

**ë¦¬ì†ŒìŠ¤ ìµœì í™”:**

- JVM í™ ìµœì†Œí™” (128â€“256MB)
- G1GC + ì§§ì€ GC Pause ì„¤ì •
- ë‹¨ì¼ í˜¸ìŠ¤íŠ¸ ê¸°ì¤€ ì•½ 4.5GB ë©”ëª¨ë¦¬ ì‚¬ìš©

---

### Business Services

#### User Service

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | ì‚¬ìš©ì ê´€ë¦¬ ì „ìš© ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ |
| **ì±…ì„** | Customer/Seller/Admin í”„ë¡œí•„ ë° ìƒíƒœ ê´€ë¦¬ |

**ì„¤ê³„ í•µì‹¬:**

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **Bounded Context ë¶„ë¦¬** | Customer / Seller / Admin ë…ë¦½ Aggregate |
| **ê³„ì¸µ êµ¬ì¡°** | Presentation â†’ Application(CQRS) â†’ Domain â†’ Infrastructure |
| **ì—”í‹°í‹° ìƒì†** | Time â†’ Audit â†’ BaseUser ë‹¨ê³„ì  ìƒì† |

**ì´ë²¤íŠ¸ ê¸°ë°˜ ì—°ë™:**

- `UserStatusChangedEvent` â†’ Auth Service ì „ë‹¬ (RabbitMQ)
- `UserLogEvent` â†’ Log Service ì „ë‹¬

**ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™:**

| ì‚¬ìš©ì ìœ í˜• | ê·œì¹™ |
|------------|------|
| **Customer** | VIP ë“±ê¸‰ í•˜í–¥ ë¶ˆê°€, ì§„í–‰ ì¤‘ ì˜ˆë§¤ ì‹œ íƒˆí‡´ ë¶ˆê°€ |
| **Seller** | ìŠ¹ì¸(APPROVED) ìƒíƒœì—ì„œë§Œ ê³µì—° ë“±ë¡Â·ì •ì‚° ì •ë³´ ìˆ˜ì • ê°€ëŠ¥ |
| **Admin** | ë§ˆì§€ë§‰ ADMIN ì‚­ì œ/ë¹„í™œì„±í™” ë¶ˆê°€ |

---

#### Auth Service

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ëª©ì ** | ì¸ì¦(Authentication) ì „ë‹´ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ |
| **ì±…ì„** | íšŒì›ê°€ì…, ë¡œê·¸ì¸, JWT í† í° ë°œê¸‰Â·ê²€ì¦, OAuth ì†Œì…œ ë¡œê·¸ì¸ |

**ì„¤ê³„ í•µì‹¬:**

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **ë„ë©”ì¸ ë¶„ë¦¬** | Auth ë„ë©”ì¸(ê³„ì •) / Token ë„ë©”ì¸(í† í°) ë¶„ë¦¬ |
| **ë³µí•© ìœ ë‹ˆí¬** | `email + userType` ë³µí•© í‚¤ë¡œ ë™ì¼ ì´ë©”ì¼ ë‹¤ì¤‘ ê°€ì… ì§€ì› |
| **JWT ë³´ì•ˆ** | RS256 ë¹„ëŒ€ì¹­í‚¤, JWKS ì—”ë“œí¬ì¸íŠ¸ ì œê³µ |

**í† í° ê´€ë¦¬ ì •ì±…:**

| í† í° ìœ í˜• | ìœ íš¨ ê¸°ê°„ |
|----------|-----------|
| Access Token | 5ë¶„ |
| Refresh Token | 1ì‹œê°„ / 30ì¼(ìœ ì§€ ì˜µì…˜) |

**OAuth ì§€ì›:**

- Kakao / Naver / Google
- CUSTOMER ì‚¬ìš©ìë§Œ í—ˆìš©
- ê³„ì • ì—°ë™ / í•´ì œ ê¸°ëŠ¥

**ì´ë²¤íŠ¸ ì²˜ë¦¬:**

| ë°©í–¥ | ì´ë²¤íŠ¸ |
|------|--------|
| **ìˆ˜ì‹  (User â†’ Auth)** | ì‚¬ìš©ì ì •ì§€/í™œì„±í™”/íƒˆí‡´ â†’ Auth ìƒíƒœ ë™ê¸°í™” |
| **ë°œí–‰ (Auth â†’ Log)** | íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ, í† í° ê°±ì‹  ë“± |

---

#### Gateway Server

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Product Service

ê³µì—°/ì „ì‹œ ìƒí’ˆ ë„ë©”ì¸ì„ ë‹´ë‹¹í•˜ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê³µì—° ë“±ë¡ë¶€í„° ì‹¬ì‚¬, ì˜ˆë§¤ ì˜¤í”ˆ, íŒë§¤ ì¢…ë£Œê¹Œì§€ **ìƒí’ˆ ë¼ì´í”„ì‚¬ì´í´ ì „ë°˜**ì„ ì±…ì„ì§‘ë‹ˆë‹¤.

**í•µì‹¬ ì±…ì„:**

- ê³µì—°/ì „ì‹œ ìƒí’ˆì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬
- ê´€ë¦¬ì ì‹¬ì‚¬ ê¸°ë°˜ íŒë§¤ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤
- ì¢Œì„ ë“±ê¸‰(VIP/R/S ë“±)ê³¼ ê°€ê²©Â·ì”ì—¬ì„ ìš”ì•½ ê´€ë¦¬
- ìŠ¤ì¼€ì¤„ ê¸°ë°˜ ìë™ ìƒíƒœ ì „ì´
- ìƒí’ˆ ì·¨ì†ŒÂ·ì¢Œì„ ë³€ë™ì„ ì´ë²¤íŠ¸ë¡œ ì™¸ë¶€ ì„œë¹„ìŠ¤ì— ì „íŒŒ

**ì„¤ê³„ í•µì‹¬:**

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **Aggregate ì¤‘ì‹¬** | Productê°€ ìƒíƒœÂ·ì •ì±…ì˜ ë‹¨ì¼ ì£¼ì¸ |
| **ëª…ì‹œì  ìƒíƒœ ë¨¸ì‹ ** | ProductStatus ê¸°ë°˜ ìœ íš¨ ì „ì´ë§Œ í—ˆìš© |
| **CQRS ë¶„ë¦¬** | Command/Query ì„œë¹„ìŠ¤ ë¶„ë¦¬ |
| **ì´ë²¤íŠ¸ ê¸°ë°˜** | Reservation/Seat ì„œë¹„ìŠ¤ì™€ ë¹„ë™ê¸° í†µì‹  |
| **ìš´ì˜ ìë™í™”** | ìŠ¤ì¼€ì¤„ëŸ¬ë¡œ íŒë§¤ ì‹œì‘Â·ì¢…ë£Œ ìë™ ì²˜ë¦¬ |

**ìƒí’ˆ ìƒíƒœ íë¦„:**

```
DRAFT â†’ PENDING â†’ APPROVED â†’ SCHEDULED â†’ ON_SALE â†’ CLOSED â†’ COMPLETED
                                â†“ (ì–´ë–¤ ìƒíƒœì—ì„œë„)
                            CANCELLED
```

**ë„ë©”ì¸ ëª¨ë¸:**

| ëª¨ë¸ | ì—­í•  |
|------|------|
| **Product** | Aggregate Root, ìƒí’ˆ ì •ì±…ê³¼ ìƒíƒœì˜ ê¸°ì¤€ ì†ŒìŠ¤ |
| **SeatGrade** | ë“±ê¸‰ë³„ ê°€ê²©, ì´ ì¢Œì„, ì”ì—¬ ì¢Œì„ ê´€ë¦¬ |

**ì´ë²¤íŠ¸ ì—°ë™:**

| ë°©í–¥ | ì´ë²¤íŠ¸ |
|------|--------|
| **ë°œí–‰** | ìƒí’ˆ ì·¨ì†Œ â†’ Reservation / ReservationSeat ì„œë¹„ìŠ¤ ì „íŒŒ |
| **ìˆ˜ì‹ ** | ì¢Œì„ ì˜ˆì•½/í•´ì œ â†’ ì”ì—¬ì„ ìš”ì•½ ê°±ì‹  |
| **ë°œí–‰** | ëª¨ë“  ì£¼ìš” í–‰ìœ„ â†’ Log Service |

**ë™ì‹œì„±Â·ì •í•©ì„±:**

- ì¢Œì„ ì°¨ê° ì‹œ ë¹„ê´€ì  ë½ ì ìš©
- ì¢Œì„ ë“±ê¸‰ í•©ê³„ì™€ ì´ ì¢Œì„ ìˆ˜ ì¼ê´€ì„± ê²€ì¦
- ìŠ¤ì¼€ì¤„ëŸ¬ ì „ì´ëŠ” `REQUIRES_NEW` íŠ¸ëœì­ì…˜ìœ¼ë¡œ ê²©ë¦¬

---

#### Arthall Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Reservation Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Reservation Seat Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Ticket Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Payment Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Notification Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Notification Sender Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

#### Log Service

<!-- TODO: ì¶”í›„ ì‘ì„± ì˜ˆì • -->

---

### Frontend

#### Tickatch Web

í‹°ì¼€íŒ… ì„œë¹„ìŠ¤ ì›¹ í”„ë¡ íŠ¸ì—”ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

**ê¸°ìˆ  ìŠ¤íƒ:**

| ë¶„ë¥˜ | ê¸°ìˆ  |
|------|------|
| Framework | Next.js 15 (App Router) |
| Language | TypeScript |
| Styling | Tailwind CSS v4 |
| State Management | React Context API, useSyncExternalStore |
| Authentication | HttpOnly Cookie ê¸°ë°˜ í† í° ê´€ë¦¬ |

**ì‚¬ìš©ì ìœ í˜•:**

- Customer (ê³ ê°) - í‹°ì¼“ ì˜ˆë§¤
- Seller (íŒë§¤ì) - ìƒí’ˆ ë“±ë¡/ê´€ë¦¬
- Admin (ê´€ë¦¬ì) - ì‹¬ì‚¬/ìš´ì˜

**ì£¼ìš” ê¸°ëŠ¥:**

- ì‚¬ìš©ì íƒ€ì…ë³„ ë…ë¦½ ë¡œê·¸ì¸/ëŒ€ì‹œë³´ë“œ
- OAuth íŒì—… ë°©ì‹ ì†Œì…œ ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤, ë„¤ì´ë²„, êµ¬ê¸€)
- ë°˜ì‘í˜• UI + ë‹¤í¬ëª¨ë“œ ì§€ì›
- ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ ì—°ë™

**API Routes êµ¬ì„±:**

| ì˜ì—­ | ì—”ë“œí¬ì¸íŠ¸ ìˆ˜ |
|------|:------------:|
| Auth | 14ê°œ |
| Products | 14ê°œ |
| ArtHall/Stage/Seat | 11ê°œ |
| Reservation | 5ê°œ |
| ReservationSeat | 5ê°œ |
| Queue | 2ê°œ |

---

### Testing

#### Test Service

Gateway ë° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë“¤ì˜ **ë¶€í•˜ ë‚´ì„±ì„ ê²€ì¦**í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ì „ìš© ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

**í…ŒìŠ¤íŠ¸ ëª©ì :**

| ëª©ì  | ì„¤ëª… |
|------|------|
| **Gateway ë¶€í•˜ í…ŒìŠ¤íŠ¸** | ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ í•œê³„ ê²€ì¦ |
| **ìŠ¤ë ˆë“œ ì ìœ  í…ŒìŠ¤íŠ¸** | P99 ë ˆì´í„´ì‹œ ê¸°ì¤€ ì‹œìŠ¤í…œ í•œê³„ ì¸¡ì • |
| **ë¦¬ì†ŒìŠ¤ ì œí•œ í…ŒìŠ¤íŠ¸** | CPU/ë©”ëª¨ë¦¬ ì œí•œ í™˜ê²½ì—ì„œ ì•ˆì •ì„± ê²€ì¦ |
| **Timeout í…ŒìŠ¤íŠ¸** | Gateway/Client Timeout ë™ì‘ í™•ì¸ |

**í…ŒìŠ¤íŠ¸ API:**

```bash
# ìŠ¤ë ˆë“œ ì ìœ  ì‹œë®¬ë ˆì´ì…˜ (sleepMs ë§Œí¼ ëŒ€ê¸° í›„ ì‘ë‹µ)
GET  /api/v1/test/load?sleepMs=1000
POST /api/v1/test/load?sleepMs=1000
```

**JMeter ì ì§„ì  ë¶€í•˜ í…ŒìŠ¤íŠ¸ ê²°ê³¼:**

| ìš”ì²­ ìˆ˜ | ê²°ê³¼ | ë¹„ê³  |
|---------|:----:|------|
| 1,000 ~ 6,000 | âœ… | ëª¨ë“  ìš”ì²­ ì„±ê³µ |
| 7,000 | âš ï¸ | ìŠ¤ë ˆë“œ ê³ ê°ˆ ì§•í›„ ì‹œì‘ |
| 8,000 | âš ï¸ | ê°„í—ì  ì—ëŸ¬ ë°œìƒ |
| 9,000 ~ 10,000 | âŒ | OOM ì—ëŸ¬ ë‹¤ìˆ˜ ë°œìƒ |

**ê²°ë¡ :** ì•½ **7,000 ìš”ì²­** ìˆ˜ì¤€ë¶€í„° ìŠ¤ë ˆë“œ ê³ ê°ˆ ì§•í›„ ë°œìƒ â†’ **ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ ë„ì… í•„ìš”ì„± í™•ì¸**

**ì¥ì•  ë¶„ì„:**

| êµ¬ë¶„ | ì—ëŸ¬ | í•´ê²° ë°©ì•ˆ |
|------|------|----------|
| Test Service | `OutOfMemoryError` | ëŒ€ê¸°ì—´ ë„ì… |
| Gateway | `PrematureCloseException` | ëŒ€ê¸°ì—´ ë„ì… |

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### Prerequisites

- Docker & Docker Compose
- JDK 21+
- Node.js 18+ (Frontend)

### Quick Start

```bash
# 1. ì¸í”„ë¼ ì‹¤í–‰
cd infrastructure
docker-compose up -d

# 2. ì„œë¹„ìŠ¤ ì¸í”„ë¼ ì‹¤í–‰
cd service-infrastructure
docker-compose up -d

# 3. ê°œë³„ ì„œë¹„ìŠ¤ ì‹¤í–‰ (ê°œë°œ í™˜ê²½)
cd {service-name}
./gradlew bootRun

# 4. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
cd tickatch_web
npm install
npm run dev
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤.

---

Â© 2025 Tickatch Team